<div class="alert alert-danger" role="alert" *ngIf="!isExist">
  <div style="color: white">
    Anda belum memiliki data rekening bank. Daftarkan rekening bank Anda dengan klik tombol Tambah Rekening di
    bawah.
  </div>
</div>

<mat-card>
  <div class="container" style="display: flex; height: 50px;">
    <div style="width: 50%">
      <mat-card-title>Rekening Bank</mat-card-title>
    </div>
    <div style="flex-grow: 1">
      <mat-card-actions align="end">
        <button mat-raised-button color="primary" data-bs-toggle="modal" data-bs-target="#modal-form" (click)="openAddModal()">
            <mat-icon>add</mat-icon> Tambah Rekening
        </button>
      </mat-card-actions>
    </div>
  </div>

    <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover">
      <thead>
        <tr>
          <th scope="col">No</th>
          <th scope="col">Bank</th>
          <th scope="col">Nomor Rekening</th>
          <th scope="col">Atas Nama</th>
          <th scope="col">Aksi</th>
      </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of rekeningData; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ item.bank }}</td>
          <td>{{ item.accountNo }}</td>
          <td>{{ item.name }}</td>
          <td>
              <button mat-button (click)="deleteRekening(i)">
                  <mat-icon>delete_outline</mat-icon>
              </button>
              <button mat-button data-bs-target="#modal-form" data-bs-toggle="modal" (click)="openEditModal(i)">
                  <mat-icon>edit</mat-icon>
              </button>
          </td>
        <tr>
      </tbody>
    </table>
</mat-card>


<div class="col-md-4">
  <div class="modal fade" id="modal-form" tabindex="-1" role="dialog" aria-labelledby="modal-form" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-body p-0">
          <div class="card card-plain">
            <div class="card-header pb-0 text-left">
              <p class="mb-0">Tambah Nomor Rekening</p>
            </div>
            <div class="card-body">
              <form [formGroup]="rekeningDataForm" (ngSubmit)="!isEdit ? addRekening() : updateRekening()">
                <label>Bank</label>
                <div class="input-group mb-3">
                  <select name="bank" id="bank" formControlName="bank" class="form-control">
                    <option value="" disabled>Pilih Bank</option>
                    <option value="Bank Mandiri">Bank Mandiri</option>
                    <option value="Bank Bukopin">Bank Bukopin</option>
                    <option value="Bank Danamon">Bank Danamon</option>
                    <option value="Bank Mega">Bank Mega</option>
                    <option value="Bank CIMB Niaga">Bank CIMB Niaga</option>
                    <option value="Bank Permata">Bank Permata</option>
                    <option value="Bank Sinarmas">Bank Sinarmas</option>
                    <option value="Bank QNB">Bank QNB</option>
                    <option value="Bank Lippo">Bank Lippo</option>
                    <option value="Bank UOB">Bank UOB</option>
                    <option value="Panin Bank">Panin Bank</option>
                    <option value="Citibank">Citibank</option>
                    <option value="Bank ANZ">Bank ANZ</option>
                    <option value="Bank Commonwealth">Bank Commonwealth</option>
                    <option value="Bank Maybank">Bank Maybank</option>
                    <option value="Bank Maspion">Bank Maspion</option>
                    <option value="Bank J Trust">Bank J Trust</option>
                    <option value="Bank QNB">Bank QNB</option>
                    <option value="Bank KEB Hana">Bank KEB Hana</option>
                    <option value="Bank Artha Graha">Bank Artha Graha</option>
                    <option value="Bank OCBC NISP">Bank OCBC NISP</option>
                    <option value="Bank MNC">Bank MNC</option>
                    <option value="Bank DBS">Bank DBS</option>
                    <option value="BCA">BCA</option>
                    <option value="BNI">BNI</option>
                    <option value="BRI">BRI</option>
                    <option value="BTN">BTN</option>
                    <option value="Bank DKI">Bank DKI</option>
                    <option value="Bank BJB">Bank BJB</option>
                    <option value="Bank BPD DIY">Bank BPD DIY</option>
                    <option value="Bank Jateng">Bank Jateng</option>
                    <option value="Bank Jatim">Bank Jatim</option>
                    <option value="Bank BPD Bali">Bank BPD Bali</option>
                    <option value="Bank Sumut">Bank Sumut</option>
                    <option value="Bank Nagari">Bank Nagari</option>
                    <option value="Bank Riau Kepri">Bank Riau Kepri</option>
                    <option value="Bank Sumsel Babel">Bank Sumsel Babel</option>
                    <option value="Bank Lampung">Bank Lampung</option>
                    <option value="Bank Jambi">Bank Jambi</option>
                    <option value="Bank Kalbar">Bank Kalbar</option>
                    <option value="Bank Kalteng">Bank Kalteng</option>
                    <option value="Bank Kalsel">Bank Kalsel</option>
                    <option value="Bank Kaltim">Bank Kaltim</option>
                    <option value="Bank Sulsel">Bank Sulsel</option>
                    <option value="Bank Sultra">Bank Sultra</option>
                    <option value="Bank BPD Sulteng">Bank BPD Sulteng</option>
                    <option value="Bank Sulut">Bank Sulut</option>
                    <option value="Bank NTB">Bank NTB</option>
                    <option value="Bank NTT">Bank NTT</option>
                    <option value="Bank Maluku">Bank Maluku</option>
                    <option value="Bank Papua">Bank Papua</option>
                  </select>
                </div>

                <label>Nomor Rekening</label>
                <div class="input-group mb-3">
                  <input type="text" class="form-control" placeholder="Nomor Rekening anda yang aktif"
                  name="accountNo" formControlName="accountNo">
                </div>

                <label>Nama</label>
                <div class="input-group mb-3">
                  <input type="text" class="form-control" placeholder="Nama Lengkap Sesuai Bank" name="name"
                  formControlName="name">
                </div>

                <div class="text-center">
                  <button type="submit" class="btn bg-gradient-primary" value="Submit">Simpan</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
